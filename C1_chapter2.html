<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>第二課 互聯網協定</title>
<style>
    :root { color-scheme: light; }
    body {
        margin: 0;
        font-family: "Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;
        background: #f4f6fb;
        color: #0f172a;
        line-height: 1.6;
    }
    main {
        max-width: 1100px;
        margin: 0 auto;
        padding: 32px 16px 80px;
    }
    header {
        text-align: center;
        padding: 24px 16px 30px;
    }
    header h1 {
        font-size: 2.2rem;
        margin-bottom: 12px;
    }
    header p {
        max-width: 720px;
        margin: 0 auto;
    }
    section {
        background: #ffffff;
        border-radius: 18px;
        padding: 24px;
        margin-bottom: 22px;
        box-shadow: 0 16px 38px rgba(15,23,42,0.12);
    }
    h2 {
        margin: 0 0 14px;
        font-size: 1.35rem;
        color: #0f172a;
    }
    h3 {
        margin: 18px 0 8px;
        font-size: 1.05rem;
        color: #0f172a;
    }
    ul, ol {
        padding-left: 20px;
        margin: 6px 0 12px;
    }
    .grid {
        display: grid;
        gap: 14px;
    }
    .grid-2 {
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }
    .card {
        border: 1px solid #e2e8f0;
        border-radius: 14px;
        padding: 16px;
        background: #f9fbff;
    }
    .badge {
        display: inline-block;
        padding: 2px 10px;
        border-radius: 999px;
        background: #e0f2fe;
        color: #0f172a;
        font-weight: 600;
        font-size: 0.85rem;
        margin-bottom: 8px;
    }
    .table-wrap {
        overflow-x: auto;
        margin-top: 12px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        min-width: 640px;
    }
    th, td {
        border: 1px solid #dbe2f3;
        padding: 10px 12px;
        text-align: left;
        vertical-align: top;
    }
    th { background: #e8efff; font-weight: 600; }
    label {
        font-weight: 600;
        display: block;
        margin-bottom: 6px;
    }
    select {
        width: 100%;
        padding: 10px 12px;
        border-radius: 10px;
        border: 1px solid #94a3b8;
        font-family: inherit;
        font-size: 1rem;
    }
    .info-box {
        margin-top: 12px;
        border-radius: 12px;
        padding: 14px;
        background: #eef2ff;
        color: #312e81;
    }
    .chip-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }
    .chip {
        flex: 1 1 200px;
        padding: 12px;
        border-radius: 12px;
        border: 1px solid #cbd5f5;
        background: #f8fafc;
        cursor: pointer;
        transition: transform 0.2s, border-color 0.2s;
    }
    .chip:hover {
        transform: translateY(-2px);
        border-color: #0ea5e9;
    }
    .chip h4 {
        margin: 0 0 6px;
        font-size: 1rem;
        color: #0f172a;
    }
    .img-wrap {
        width: 100%;
        max-width: 320px;
        margin: 0 auto 12px;
    }
    .img-wrap img {
        width: 100%;
        height: auto;
        object-fit: contain;
        display: block;
    }
    .stack {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 10px;
   }
    .stack div {
        padding: 10px 12px;
        border-radius: 10px;
        background: #f1f5f9;
        border: 1px solid #cbd5f5;
    }
    .dns-tree {
        margin-top: 12px;
        border: 1px solid #dbe2f3;
        border-radius: 12px;
        padding: 12px 16px;
        background: #f8fafc;
    }
    .dns-tree ul {
        list-style: none;
        padding-left: 20px;
        margin: 0;
    }
    .dns-tree li {
        position: relative;
        margin: 6px 0;
        padding-left: 18px;
    }
    .dns-tree li::before {
        content: "";
        position: absolute;
        left: 0;
        top: 10px;
        width: 10px;
        height: 1px;
        background: #94a3b8;
    }
    .dns-tree .level {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 10px;
        background: #dbeafe;
        font-weight: 600;
        margin-right: 8px;
    }
    @media (max-width: 640px) {
        section { padding: 20px; }
        table { font-size: 0.93rem; }
    }
</style>
</head>
<body>
<main>
    <header>
        <h1>第二課｜互聯網協定與 HTTP 狀態</h1>
        <p>所有內容依據《HC1 Ch2》整理，重點理解 TCP/IP、IP 位址、DNS、URL 及常用網絡協定，幫你拆解「404 找不到網頁」等狀態訊息背後的原理。</p>
    </header>

    <section id="protocol">
        <h2>2.1 協定概念與 TCP/IP</h2>
        <div class="grid grid-2">
            <div class="card">
                <h3>協定定義</h3>
                <p>協定是一組規則，指定裝置之間發送與接收數據的格式與順序，確保網絡通訊活動得以運作。</p>
                <p>類比：像使用共通語言問時間，雙方才能互相理解。</p>
            </div>
            <div class="card">
                <h3>TCP 與 IP</h3>
                <ul>
                    <li><strong>TCP：</strong>將數據分割為編號的數據包，提高傳輸效率，到目的地後重新組裝。</li>
                    <li><strong>IP：</strong>為每個數據包加上目的地位址，並選擇最佳路徑進行實際傳輸。</li>
                </ul>
            </div>
        </div>

        <h3>TCP/IP 五層協定疊</h3>
        <div class="stack">
            <div>應用層（發件人/收件人）</div>
            <div>傳輸層</div>
            <div>網絡層</div>
            <div>數據鏈路層</div>
            <div>實體層</div>
        </div>

        <h3 style="margin-top:18px;">互動：TCP vs IP</h3>
        <div class="chip-row">
            <div class="chip" onclick="showTcpIp('tcp')">
                <h4>TCP 功能</h4>
                <p>數據包、編號、重組</p>
            </div>
            <div class="chip" onclick="showTcpIp('ip')">
                <h4>IP 功能</h4>
                <p>位址、路徑選擇</p>
            </div>
        </div>
        <div id="tcpIpInfo" class="info-box">點擊上方卡片查看說明。</div>
    </section>

    <section id="ip">
        <h2>2.2 互聯網協定（IP）位址</h2>
        <div class="grid grid-2">
            <div class="card">
                <h3>IP 位址定義</h3>
                <p>在 TCP/IP 協定下識別個別裝置的可變數字位址。裝置連上互聯網時，由 ICANN 透過 ISP 分配。</p>
            </div>
            <div class="card">
                <h3>IPv4</h3>
                <p>32 位元、由四個八位元組組成，以句號分隔。範圍：0.0.0.0 至 255.255.255.255。</p>
            </div>
            <div class="card">
                <h3>IPv6</h3>
                <p>128 位元、由八組 16 位元數字組成，以冒號分隔。範圍：0:0:0:0:0:0:0:0 至 FFFF:...:FFFF。</p>
            </div>
        </div>

        <h3>互動：選擇 IP 類型</h3>
        <label for="ipSelect">IP 類型</label>
        <select id="ipSelect">
            <option value="ipv4">IPv4</option>
            <option value="ipv6">IPv6</option>
        </select>
        <div id="ipInfo" class="info-box"></div>
    </section>

    <section id="dns">
        <h2>2.3 網域名稱系統（DNS）</h2>
        <div class="grid grid-2">
            <div class="card">
                <h3>網域名稱用途</h3>
                <p>以有意義的名稱取代難記的 IP 位址。完整域名（FQDN）包含 DNS 分級所有層級，各層以句點分隔。</p>
            </div>
            <div class="card">
                <h3>DNS 伺服器</h3>
                <p>負責將網域名稱（文字）解析成 IP 位址（數字），位置以 IP 表示，多由 ISP 提供。</p>
            </div>
        </div>

        <h3>DNS 分級結構示意</h3>
        <div class="dns-tree">
            <ul>
                <li><span class="level">根 (.)</span>DNS 層級的起點</li>
                <li><span class="level">頂級域名 (TLD)</span>
                    <ul>
                        <li><span class="level">gTLD</span>如 .com、.edu</li>
                        <li><span class="level">ccTLD</span>如 .hk、.uk</li>
                    </ul>
                </li>
                <li><span class="level">次級域名</span>例如 getfivestarstar</li>
                <li><span class="level">主機 / 子域</span>例如 www、web 等</li>
            </ul>
            <p style="margin-top:10px;">範例 FQDN：<strong>www.example.edu.hk</strong>（主機名＋次級域＋通用/地區 TLD）。</p>
        </div>

        <h3>互動：DNS 層級提示</h3>
        <label for="dnsSelect">選擇層級</label>
        <select id="dnsSelect">
            <option value="fqdn">完整域名</option>
            <option value="tld">頂級域名</option>
            <option value="server">DNS 伺服器</option>
        </select>
        <div id="dnsInfo" class="info-box"></div>
    </section>

    <section id="url">
        <h2>2.4 劃一資源定位（URL）</h2>
        <p>URL 用於識別互聯網資源（網頁、圖片、檔案、影片等）的位置。由以下部分組成：</p>
        <ul>
            <li><strong>網絡協定：</strong>如 HTTP、HTTPS 等，一套網絡通訊規則。</li>
            <li><strong>完整域名 / IP 位址：</strong>主機的獨特標識。</li>
            <li><strong>埠號碼：</strong>分辨同一主機內不同應用程式。</li>
            <li><strong>路徑：</strong>主機根目錄中資源的位置（如 /about/network.html）。</li>
        </ul>

        <h3>互動：解析 URL</h3>
        <label for="urlSelect">選擇 URL</label>
        <select id="urlSelect">
            <option value="http://www.example.com:80/about/network.html">http://www.example.com:80/about/network.html</option>
            <option value="https://mail.school.hk/index.php">https://mail.school.hk/index.php</option>
            <option value="http://server.org/docs">http://server.org/docs</option>
        </select>
        <div id="urlInfo" class="info-box"></div>
    </section>

    <section id="protocols">
        <h2>2.5–2.6 網絡協定</h2>
        <div class="badge">HTTP / HTTPS</div>
        <div class="grid grid-2">
            <div class="card">
                <h3>HTTP</h3>
                <p>超文本傳輸協定，萬維網用來傳輸超文本文件（網頁）。</p>
            </div>
            <div class="card">
                <h3>HTTPS</h3>
                <p>HTTP 的保安版本，使用保密插口層（SSL）/ 傳輸層保安（TLS）加密，確保客戶端與伺服器之間通訊的保密性、可靠性與私隱性。</p>
            </div>
        </div>

        <div class="badge" style="margin-top:16px;">電郵協定</div>
        <div class="grid grid-2">
            <div class="card">
                <h3>SMTP</h3>
                <p>簡單郵遞傳送協定，用於向電郵伺服器傳送電子郵件，亦負責伺服器間的郵件分發。</p>
            </div>
            <div class="card">
                <h3>POP3</h3>
                <p>伺服器提供郵箱，客戶下載郵件到本機後預設會從伺服器刪除，以釋放儲存空間。</p>
            </div>
            <div class="card">
                <h3>IMAP</h3>
                <p>郵件保留在伺服器上，可在多個裝置同步閱讀、移動、刪除郵件。</p>
            </div>
        </div>

        <h3>POP3 vs IMAP</h3>
        <div class="table-wrap">
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>POP3</th>
                        <th>IMAP</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>郵件位置</td>
                        <td>下載後留在本機，伺服器預設刪除</td>
                        <td>郵件留在伺服器，可同步多裝置</td>
                    </tr>
                    <tr>
                        <td>多裝置使用</td>
                        <td>不方便同步</td>
                        <td>允許多個客戶端同時管理郵件</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3>互動：協定用途速覽</h3>
        <div class="chip-row">
            <div class="chip" onclick="showProtocol('https')">
                <h4>HTTPS</h4>
                <p>SSL/TLS 加密</p>
            </div>
            <div class="chip" onclick="showProtocol('smtp')">
                <h4>SMTP</h4>
                <p>寄送電子郵件</p>
            </div>
            <div class="chip" onclick="showProtocol('pop3')">
                <h4>POP3</h4>
                <p>下載郵件</p>
            </div>
            <div class="chip" onclick="showProtocol('imap')">
                <h4>IMAP</h4>
                <p>伺服器同步</p>
            </div>
        </div>
        <div id="protocolInfo" class="info-box">點擊上方卡片查看協定用途。</div>
    </section>
</main>

<script>
const tcpIpInfo = document.getElementById("tcpIpInfo");
function showTcpIp(type) {
    tcpIpInfo.textContent = type === "tcp"
        ? "TCP：將數據分成較小的編號數據包，傳輸效率較高，並在目的地重新組裝。"
        : "IP：為每個數據包加上目的地位址，並選擇前往該目的地的最佳路徑。";
}

const ipInfo = document.getElementById("ipInfo");
const ipNotes = {
    ipv4: "IPv4：32 位元位址，四個八位元組（0.0.0.0 至 255.255.255.255）。",
    ipv6: "IPv6：128 位元位址，八組 16 位元數字（0:0:... 到 FFFF:...）。"
};
document.getElementById("ipSelect").addEventListener("change", e => {
    ipInfo.textContent = ipNotes[e.target.value];
});
ipInfo.textContent = ipNotes["ipv4"];

const dnsInfo = document.getElementById("dnsInfo");
const dnsNotes = {
    fqdn: "完整域名（FQDN）包含 DNS 分級所有層級，如 sub.domain.com。",
    tld: "頂級域名（TLD）位於最右，可為通用 gTLD（.com）或地區 ccTLD（.hk）。",
    server: "DNS 伺服器負責將網域名稱解析為 IP 位址，位置以 IP 表示，多由 ISP 提供。"
};
document.getElementById("dnsSelect").addEventListener("change", e => {
    dnsInfo.textContent = dnsNotes[e.target.value];
});
dnsInfo.textContent = dnsNotes["fqdn"];

const urlInfo = document.getElementById("urlInfo");
function parseUrl(value) {
    try {
        const u = new URL(value);
        const port = u.port || "(預設埠)";
        return `協定：${u.protocol.replace(":", "")}｜主機：${u.hostname}｜埠號：${port}｜路徑：${u.pathname || "/"}`;
    } catch {
        return "此 URL 無效（可能缺少必要部分）。`;
    }
}
const urlSelect = document.getElementById("urlSelect");
urlSelect.addEventListener("change", e => {
    urlInfo.textContent = parseUrl(e.target.value);
});
urlInfo.textContent = parseUrl(urlSelect.value);

const protocolInfo = document.getElementById("protocolInfo");
const protocolNotes = {
    https: "HTTPS：HTTP 加上 SSL/TLS 加密，確保傳輸過程的保密性、可靠性和私隱性。",
    smtp: "SMTP：將電子郵件傳送到電郵伺服器，並在不同伺服器之間分發郵件。",
    pop3: "POP3：下載伺服器郵件到本機，預設下載後伺服器刪除郵件以節省空間。",
    imap: "IMAP：郵件保留在伺服器，可在多個裝置同步閱讀、移動和刪除。"
};
function showProtocol(key) {
    protocolInfo.textContent = protocolNotes[key];
}
</script>
</body>
</html>
